Tor USB project
===============

Steven J. Murdoch <http://www.cl.cam.ac.uk/users/sjm217/>

Contents
--------

build-scripts: Code for building and customizing a Tor USB bundle
  \___ INSTALL: Installation instructions
  |___ config/: Configuration files for bundle components

docs: Documentation for project
  \___ ToaST-startup: Rough description of ToaST startup procedure
  |___ rationale.txt: Reasoning behind bundle design decisions
  |___ torusb-notes.txt: Experiences from running various other Tor
                         USB bundles

src: Source code
  \___ processtest: Qt project for starting Firefox and detecting
  |                 termination behaviour (see included README for
  |                 build instructions)
  |___ current-patches: Patches to other applications currently in
  |                     testing
  |___ archived-patches: Patches to other applications which have
                         either been applied upstream or abandoned 

Status
------

Using build-scripts/Makefile it is possible to create a working USB
Tor bundle. It's limitations include:
 - It uses the FirefoxPortable binaries
 - The starting program doesn't have a pretty icon

Further issues are discussed in TODO.

Included applications
---------------------

Vidalia (svn trunk revision 2718)
Tor 0.2.1.1-alpha (with libevent-1.3e, zlib-1.2.3 and openssl-0.9.8h) 
Polipo 1.0.4
FirefoxPortable 2.0.0.14
 \_ Firefox 2.0.0.14
    \_ Torbutton 1.2.0rc2
PidginPortable 2.4.2
 \_ Pidgin 2.4.2
   \_ OTR 3.1

Usage
-----

Tor Browser.exe is a 7zip self extracting archive. To extract the bundle, run
this and point it to the install location. It will create a folder called "Tor
Browser". This may be the hard disk, but is more likely the currently mounted
USB drive. The install process needs only be performed once.

Once the bundle is extracted, open the newly created folder and click
"Start Tor Browser.bat" (may appear as simply "Start Tor Browser").
This will start Vidalia. Once Tor has successfully opened a circuit,
Firefox will automatically be opened.

To exit, close Firefox. Vidalia will automatically clean up and exit.

Changelog
---------

0.0.1: Initial revision (2007-12-11)
0.0.2: Update Vidalia to r2213 (2007-12-13)
       Update Tor to 0.2.0.12-alpha
       Add license files
       Remove Portable Tor dependency
       Add bookmarks to Tor, Torcheck and the hidden wiki
0.0.3: Move build infrastructure to GNU Make (2007-12-16)
       Install Torbutton
0.0.4: Add internationalization for fa-IR and zh-CN
       Add Makefile rule for installing Quick Locale Switcher, but
       don't enable this by default
0.0.5: Disable FirefoxPortable splash screen (2007-12-24)
       New prefs.js:
        - Disable history storage
        - Disable <a ping> handling
        - Disable session storage (crash recovery)
        - Disable logging of CSS errors
        - Disable persistent cookies
        - Disable IPv6
        - Disable external protocol handlers
        - Disable failover to a secondary proxy
        - Sanitize cookies and passwords on shutdown
        - Prevent scripts calling plugins
        - Empty add-on installation whitelist
0.0.6: Released 2008-01-29
       Rename start file "Start Tor Browser" so as to be easier to explain
       Location of wget is now a configurable parameter
       Vidalia updated to r2337 (for ProxyExecutable(Arguments) options
       Tor updated to 0.2.0.18-alpha
       Polipo 1.0.4 now included in bundle and Firefox configured
       Firefox now configured to use proxies at 127.0.0.1 to prevent IPv6 attempt
0.0.7: Released 2008-02-08
       Security update of FirefoxPortable to v2.0.12 (see
        http://www.mozilla.org/projects/security/known-vulnerabilities.html#Firefox)
0.0.8: Released 2008-02-15
       Security update of Torbutton to v1.1.13 (see
        http://torbutton.torproject.org/dev/CHANGELOG)
       Automate generation of internationalized bundles
       Allow optional extensions to be placed in build-scripts/extensions
       Build Polipo with regular expression support, activating forbiddenFile option
       Update Polipo configuration based on Incognito suggestions
1.0.0: Released 2008-03-20
       Fix parse errors in polipo.conf (Phillip)
       Move to HTTPS and specify language in homepage URL (check.torproject.org)
       Update Vidalia license
       Fix Makefile error when re-building the bundle
       Update of Tor to 0.2.0.22-rc
       Update of Torbutton to v1.1.17 (see
        http://torbutton.torproject.org/dev/CHANGELOG)
       Update of Vidalia to revision 2424
       Suppress warning on viewing an encrypted page
1.0.1: Released 2008-03-26
       Install .jar files placed in /extensions, as well as .xpi files
       Update of Firefox to 2.0.0.13 to fix security problems (see
        http://www.mozilla.org/projects/security/known-vulnerabilities.html#firefox2.0.0.13)
       Update of Vidalia to revision 2464
       Update of Tor to 0.2.0.23-rc
       Update prefs.js for new Torbutton defaults
1.0.2: Released 2008-05-03
       Update Vidalia to revision 2539
       Update Tor to 0.2.0.25-rc
       Update FirefoxPortable to 2.0.0.14
       Update Torbutton to 1.1.18
       Add RunProxyAtStart to vidalia.conf (now required)
1.0.3: Released 2008-05-16
       Update Tor to 0.2.0.26-rc
1.1.0: Released 2008-06-13
       Replace startup batch script with application (RelativeLink), so there is a helpful icon
       Make Qt 4.3.5 the default version
       Optionally install Pidgin (for Tor IM Browser Bundle)
       Extended INSTALL documentation
       Optionally use WinRAR to produce a self-extracting split bundle
       Update Vidalia to revision 2718
       Update Tor to 0.2.1.1-alpha
       Update OpenSSL to 0.9.8h
1.1.1: Released 2008-07-xx
       Update Vidalia to release 0.1.6 (we now longer need to track SVN trunk)
       Update Pidgin Portable to 2.4.3
       Update Pidgin OTR plugin to 3.2
       Update Tor to 0.2.1.2-alpha
       Update Portable Firefox to xx
       Update Torbutton to 1.2.0rc6